<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="After my last post and generally the kind of indirect advertising I’m doing to the Go programming language for a few months now, I heard about and talked with a lot of people who started being interes">
<meta property="og:type" content="article">
<meta property="og:title" content="Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It">
<meta property="og:url" content="https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/index.html">
<meta property="og:site_name" content="evilsocket">
<meta property="og:description" content="After my last post and generally the kind of indirect advertising I’m doing to the Go programming language for a few months now, I heard about and talked with a lot of people who started being interes">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://abs.twimg.com/emoji/v2/72x72/1f984.png">
<meta property="article:published_time" content="2018-03-14T22:39:09.000Z">
<meta property="article:modified_time" content="2020-05-26T18:30:57.000Z">
<meta property="article:author" content="Simone Margaritelli">
<meta property="article:tag" content="go">
<meta property="article:tag" content="golang">
<meta property="article:tag" content="programming">
<meta property="article:tag" content="developing">
<meta property="article:tag" content="design patterns">
<meta property="article:tag" content="oop">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://abs.twimg.com/emoji/v2/72x72/1f984.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon.ico" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
          
        
    
    <!-- title -->
    <title>Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
      <link rel="alternate" href="/atom.xml" title="evilsocket" type="application/atom+xml" />
    
<meta name="generator" content="Hexo 5.4.2"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">~/</a></li>
         
          <li><a href="/atom.xml">rss</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/07/28/Project-PITA-Writeup-build-a-mini-mass-deauther-using-bettercap-and-a-Raspberry-Pi-Zero-W/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/02/27/All-hail-bettercap-2-0-one-tool-to-rule-them-all/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&text=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&title=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&is_video=false&description=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It&body=Check out this article: https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&title=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&title=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&title=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&title=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&name=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It&description=&lt;p&gt;After my last post and generally the kind of indirect advertising I’m doing to the Go programming language for a few months now, I heard about and talked with a lot of people who started being interested in the language, so for once I decided to write what I don’t like about it instead, to provide a more balanced perspective of what’s my experience so far and maybe let some of those people realize that Go is not the right choice for their projects after all.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE 1&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It’s important to say that some, if not most of the things I’m about to write are purely subjective and related to my programming habits, they do not necessarily represent so called “best practices” and should not be taken like so. Moreover, I’m still a Go noob, some of the things I’m going to say might just be inaccurate / wrong, in which case feel free to correct me and teach me something new, &lt;strong&gt;please&lt;/strong&gt; :D&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE 2&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Before we start: I love this language and I already explained why I still consider it a better choice for several applications, but I’m not interested in an opinion war about Go vs Rust, or Go vs whatever … use what you think it’s best for what you have to do: if that’s Rust go for it, if you think it’s binary code you send to the processor by using your nipples to inject faults into some data bus, go for it, both cases, code and let code, life is too short for being a language hipster.&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Plz-Gimme-a-Ternary-Operator"><span class="toc-number">1.</span> <span class="toc-text">Plz Gimme a Ternary Operator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Auto-generated-stuff-Documentation"><span class="toc-number">2.</span> <span class="toc-text">Auto generated stuff !&#x3D; Documentation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-repos-as-a-Package-System-is-nuts"><span class="toc-number">3.</span> <span class="toc-text">Git repos as a Package System is nuts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reflection-Mmm-not-really-%E2%80%A6"><span class="toc-number">4.</span> <span class="toc-text">Reflection? Mmm not really …</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Generics-Nah"><span class="toc-number">5.</span> <span class="toc-text">Generics? Nah</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Go-stuff-is-easy-to-build-CGO-is-hell"><span class="toc-number">6.</span> <span class="toc-text">Go stuff is easy to build, CGO is hell.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ASLR-Nope-troll-face"><span class="toc-number">7.</span> <span class="toc-text">ASLR? Nope! -troll face-</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conclusions"><span class="toc-number">8.</span> <span class="toc-text">Conclusions</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline" style="text-transform: uppercase;">
        Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It
    </h1>



    <div class="meta">
      
    <div class="postdate">
        <time datetime="2018-03-14T22:39:09.000Z" itemprop="datePublished">2018-03-14</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/design-patterns/" rel="tag">design patterns</a>, <a class="tag-link-link" href="/tags/developing/" rel="tag">developing</a>, <a class="tag-link-link" href="/tags/go/" rel="tag">go</a>, <a class="tag-link-link" href="/tags/golang/" rel="tag">golang</a>, <a class="tag-link-link" href="/tags/oop/" rel="tag">oop</a>, <a class="tag-link-link" href="/tags/programming/" rel="tag">programming</a>
    </div>


    </div>

    <div class="addthis_sharing_toolbox"></div>
  </header>

    <br/>
  

  <div class="content" itemprop="articleBody">
    <p>After my last post and generally the kind of indirect advertising I’m doing to the Go programming language for a few months now, I heard about and talked with a lot of people who started being interested in the language, so for once I decided to write what I don’t like about it instead, to provide a more balanced perspective of what’s my experience so far and maybe let some of those people realize that Go is not the right choice for their projects after all.</p>
<p><strong>NOTE 1</strong></p>
<p>It’s important to say that some, if not most of the things I’m about to write are purely subjective and related to my programming habits, they do not necessarily represent so called “best practices” and should not be taken like so. Moreover, I’m still a Go noob, some of the things I’m going to say might just be inaccurate / wrong, in which case feel free to correct me and teach me something new, <strong>please</strong> :D</p>
<p><strong>NOTE 2</strong></p>
<p>Before we start: I love this language and I already explained why I still consider it a better choice for several applications, but I’m not interested in an opinion war about Go vs Rust, or Go vs whatever … use what you think it’s best for what you have to do: if that’s Rust go for it, if you think it’s binary code you send to the processor by using your nipples to inject faults into some data bus, go for it, both cases, code and let code, life is too short for being a language hipster.</p>
<span id="more"></span>

<p>Let’s start from the smallest things to the more serious ones …</p>
<h3 id="Plz-Gimme-a-Ternary-Operator"><a href="#Plz-Gimme-a-Ternary-Operator" class="headerlink" title="Plz Gimme a Ternary Operator"></a>Plz Gimme a Ternary Operator</h3><p>Writing mostly apps that run in a terminal emulator, I often find myself printing the status of the parts of the system I’m working on in terms of <code>enabled</code> / <code>disabled</code> (like enabling or disabling one of bettercap’s modules and reporting that information), which means most of the times I need to translate a <code>boolean</code> variable to a more descriptive <code>string</code>, in C++ or any other language supporting <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/%3F:">this operator</a> it would be something like:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> someEnabledFlagHere = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Cool module is: %s\n&quot;</span>, someEnabledFlagHere ? <span class="string">&quot;enabled&quot;</span> : <span class="string">&quot;not enabled&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Unfortunately Go does not support this, which means you end up doing ugly stuff like:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">someEnabledFlagHere := <span class="literal">false</span></span><br><span class="line">isEnabledString := <span class="string">&quot;not enabled&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> someEnabledFlagHere == <span class="literal">true</span> &#123;</span><br><span class="line">    isEnabledString = <span class="string">&quot;enabled&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">log.Printf(<span class="string">&quot;Cool module is: %s\n&quot;</span>, isEnabledString)</span><br></pre></td></tr></table></figure>

<p>And this is basically the most elegant way you have to do it (other that actually having a <code>map[bool]string</code> just for that …) … is it less convenient? is it more? For me it’s ugly, and when your system is highly modular, repeating this stuff over and over again can considerably increase the size of your code base, basically for no valid reason but the lack of an operator. ¯\_(ツ)_/¯</p>
<p><strong>NOTE</strong> Yes, I know you can do this by creating a function or aliasing the <code>string</code> type, there’s no need to post every possible ugly workaround on the comments, thanks :)</p>
<h3 id="Auto-generated-stuff-Documentation"><a href="#Auto-generated-stuff-Documentation" class="headerlink" title="Auto generated stuff != Documentation"></a>Auto generated stuff != Documentation</h3><p>Dear Go experts, I’m really thankful for the code you share and the stuff I manage to learn everyday by reading it, but I don’t think this is of any real use:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this function adds two integers </span></span><br><span class="line"><span class="comment">// -put captain obvious meme here-</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addTwoNumbers</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>As I do not think that <a target="_blank" rel="noopener" href="https://godoc.org/github.com/google/gopacket">things like these</a> are valid substitutes for documentation, while it looks like this is the standard way gophers document their code (with some exceptions of course), even if it’s about frameworks with thousands of forks and users we’re talking about … not a fan of super detailed documentation myself and this is not necessarily a huge problem if you enjoy digging into the code itself anyway, but if you’re a documentation junkie, be prepared to a continuous disappointment.</p>
<h3 id="Git-repos-as-a-Package-System-is-nuts"><a href="#Git-repos-as-a-Package-System-is-nuts" class="headerlink" title="Git repos as a Package System is nuts"></a>Git repos as a Package System is nuts</h3><p>I had an interesting conversation on Twitter a few days ago, I was explaining to someone why Go imports look like github URLs:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/bettercap/bettercap&quot;</span></span><br></pre></td></tr></table></figure>

<p>Or simply what happens when you:</p>
<pre><code># go get github.com/bettercap/bettercap</code></pre>
<p>Basically, in the simplest Go installation you might possibly use (not using <code>vendor</code> folders and/or not overriding <code>$GOPATH</code>), everything (not really but let’s pretend for the sake of simplicity) lives in this arbitrary folder you decided and with which you filled the <code>$GOPATH</code> variable, let’s say in my case it’s <code>/home/evilsocket/gocode</code> (well, <a target="_blank" rel="noopener" href="https://github.com/evilsocket/dotfiles/blob/master/data/go.zshrc#L2">it actually is</a>). Whenever I either <code>go get</code> something, or I am importing it and using <code>go get</code> to <a target="_blank" rel="noopener" href="https://github.com/bettercap/bettercap/blob/master/Makefile#L28">automagically download the needed packages</a>, what basically happens on my computer is:</p>
<pre><code># mkdir -p $GOHOME/src
# git clone https://github.com/bettercap/bettercap.git $GOHOME/src/github.com/bettercap/bettercap</code></pre>
<p>Yes, Go actually uses Git repositories for packages, applications and everything Go related … which is very convenient in a way, but it creates a huge problem: as long as you don’t use different tools and / or ugly workarounds (more on this in a bit), everytime you compile a software on a new system which is missing a given package, the <code>master</code> branch of the repository of that package will be cloned, meaning <strong>you’ll potentially have different code every time you compile your project on a new computer even if the code of the application you’re compiling did not change at all</strong> (but the master branch of any of the packages did). </p>
<center>
<iframe src="https://giphy.com/embed/12NUbkX6p4xOO4" width="480" height="440" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a target="_blank" rel="noopener" href="https://giphy.com/gifs/shia-labeouf-12NUbkX6p4xOO4">via GIPHY</a></p>
</center>

<p>Have fun when users will start reporting bugs about third party libraries and you have no idea at which commit the repos where at when they built their version of the software from source ^_^</p>
<p>Yes, yes, <strong>yes</strong>. You can use <a target="_blank" rel="noopener" href="https://github.com/Masterminds/glide">stuff like Glide</a> or any other tool that will “freeze” your dependencies to specific commits / tags and use a separate folder for them … but that is an ugly workaround for a terrible design choice, we all know it, it works, but it’s ugly.</p>
<p>Pretty much like <a target="_blank" rel="noopener" href="http://labix.org/gopkg.in">using URL redirectors</a> in order to be able to import specific versions of a package … it works, but it’s ugly and maybe somebody might also be concerned about the security implications of that … who’s in control of those redirections? Does this whole mechanism make you feel comfortable with the stuff you’re importing in your code and compiling and running on your computer, maybe as root with sudo? <strong>It should not</strong>. </p>
<h3 id="Reflection-Mmm-not-really-…"><a href="#Reflection-Mmm-not-really-…" class="headerlink" title="Reflection? Mmm not really …"></a>Reflection? Mmm not really …</h3><p>When I first heard about Go having reflection and, being used to the concept of reflection from other languages such as Python, Ruby, but also Java, C# and so on, I had so many ideas on how to use it (or, how to use what I thought to be Go’s reflection), like automagically enumerate available 802.11 layer types and build packets out of those, resulting in automatic WiFi fuzzing or something very close to that … it turns out, <code>reflection</code> is a big word when it comes to Go :D</p>
<p>Yes, given an opaque <code>obj interface&#123;&#125;</code> you can get its original type and you can also list the fields of a given object, but you can’t do simple stuff like enumerating the objects ( <code>struct</code>s and generally <code>type</code>s ) that a given package exports, which might seems trivial, but without it you can’t do stuff like:</p>
<ol>
<li>Build a plugin system that autoloads stuff from a given package without explicit declarations.</li>
<li>Basically everything you can do with <code>dir</code> in Python.</li>
<li>Build the definitive 802.11 fuzzer I had in mind.</li>
</ol>
<p>So yeah, reflection is kind of limited compared to other languages … I don’t know about you, but it bothers me …</p>
<h3 id="Generics-Nah"><a href="#Generics-Nah" class="headerlink" title="Generics? Nah"></a>Generics? Nah</h3><p>While most people coming from object oriented languages will complain about the lack of generics in Go, I personally don’t find that a big issue not being a super fan of OOP-at-all-costs myself. Instead, I do think Go object model (which is basically not an object model) is simple and slim, this design is inconsistent with the complexity that generics would add IMO.</p>
<pre><code>NOTE

With this I don&#39;t mean &quot;generics == OOP&quot;, but just that the majority of developers expecting generics is because they replaced C++ with Go and expect something like templates, or the Java generics ... we can surely talk about the small minority coming from functional languages with generics or whatever, but for my experience those are not statistically relevant.</code></pre>
<p>On the other end, this simplistic object model, which is quite close to <a target="_blank" rel="noopener" href="https://www.thejach.com/view/2010/1/oop_in_c_with_function_pointers_and_structs">just using function pointers and structs in C</a>, makes something else less simple and immediate than the average language.</p>
<p>Let’s say you’re developing a software that has many modules (I like modularity in case that wasn’t clear already :D), all of them derive from the same base object (so you can expect a given interface and handle them transparently) which also needs to have some default functionality already implemented and shared among all derived modules (methods all the derived modules would use so they’re directly implemented in the base object for convenience).</p>
<p>Well, while on other languages you’d have abstract classes, or stuff that is partially implemented (the common and shared methods) and partially only describes an interface (pure <code>virtual</code> methods):</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseObject</span> &#123;</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">commonMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;I&#x27;m available to all derived objects!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// while this needs to be implemented by every derived object</span></span><br><span class="line">  <span class="function"><span class="keyword">virtual</span> <span class="title">interfaceMethod</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;```</span><br><span class="line"></span><br><span class="line">It happens that Go simply does <span class="keyword">not</span> support <span class="keyword">this</span>, something can either be an `interface` <span class="keyword">or</span> a base `<span class="class"><span class="keyword">struct</span>` (<span class="title">object</span>), <span class="title">but</span> <span class="title">it</span> <span class="title">can</span>&#x27;<span class="title">t</span> <span class="title">be</span> <span class="title">both</span> <span class="title">at</span> <span class="title">the</span> <span class="title">same</span> <span class="title">time</span>, <span class="title">so</span> <span class="title">we</span>&#x27;<span class="title">d</span> <span class="title">need</span> <span class="title">to</span> &quot;<span class="title">split</span>&quot; <span class="title">this</span> <span class="title">example</span> <span class="title">in</span> <span class="title">this</span> <span class="title">way</span>:</span></span><br><span class="line"></span><br><span class="line">```go</span><br><span class="line">type BaseObjectForMethods <span class="class"><span class="keyword">struct</span> &#123;</span> &#125;</span><br><span class="line"></span><br><span class="line">func (o BaseObjectForMethods) commonMethod() &#123;</span><br><span class="line">    <span class="built_in">log</span>.Printf(<span class="string">&quot;I&#x27;m available to all derived objects!\n&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type BaseInterface interface &#123;</span><br><span class="line">    interfaceMethod()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type Derived <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="comment">// I just swallowed my base object and got its methods</span></span><br><span class="line">    BaseObjectForMethods</span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line"><span class="comment">// and here we implement the interface method instead</span></span><br><span class="line">func (d Derived) interfaceMethod() &#123;</span><br><span class="line">    <span class="comment">// whatever, i&#x27;m a depressed object model anyway ... :/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>And eventually your derived object will implement the interface and extend the base structure … it might look like the same or also that this is a more elegant and decoupled approach, but it can get messy quite fast when you try to push Go polymorphism a little bit further than this ( <a target="_blank" rel="noopener" href="https://github.com/bettercap/bettercap/blob/master/session/module.go">here a more realistic example</a> ).</p>
<h3 id="Go-stuff-is-easy-to-build-CGO-is-hell"><a href="#Go-stuff-is-easy-to-build-CGO-is-hell" class="headerlink" title="Go stuff is easy to build, CGO is hell."></a>Go stuff is easy to build, CGO is hell.</h3><p>Building (and crosscompiling) Go apps is incredibly easy, no matter for what platform you’re building it for or from. Using the same Go installation you can compile the same app for Windows, or macOS, or Android or some MIPS device with GNU/Linux if you want, no toolchains needed, no exotic compilers, no OS specific flags to remember, no weird <code>configure</code> scripts that never really work as we expect them to … <strong>HOW COOL IS THAT?!</strong> (if you come from the C/C++ world and used to cross compile your stuff a lot, you know this is huge…or if you’re a security consultant who needs to quickly cross compile his agents for both that tasty Windows domain controller and the crappy MIPS IP Cam he infected yesterday).</p>
<p>Well, <strong>it happens this is simply not the case if you’re using any native library which was not originally implemented in Go</strong>, and you probably will unless you won’t just use Go for “hello world”.</p>
<p>Let’s say your Go project is using <code>libsqlite3</code>, or <code>libmysql</code>, or <code>libwhatever</code> because whoever wrote that neat ORM you’re using in your super fast Go API did not bother reimplementing the whole DB protocol in Go (of course) but just used some nice, default, standard and well tested system library wrapped in a CGO module … so far so good, all languages have some wrapping mechanism for native libraries … and also, all is good as long as you’re just compiling your project for your host system, where <code>libsqlite3.so</code>, or <code>libmysql.so</code>, or <code>libwhatever.so</code> are available via some <code>apt-get install precompiled-swag</code> thing, but what happens when you have to crosscompile, let’s say, this project for Android? <strong>What if the destination system does not have <code>libXXXXXX.so</code> as default? Of course, you’ll either need that system’s C/C++ toolchain and compile the library yourself</strong>, or just find a way to install the compiler direcly on that system and compile everything there (using your Android tablet as a build machine basically). Have fun with that.</p>
<p>Needless to say, if you want / need to support several operating systems and architectures (why you shouldn’t given one of Go biggest strength, as we said, is exactly this?) this adds a huge amount of complexity to your build pipeline, making a Go project at least as complex to cross compile (sometimes, ironically, even more) than just a C/C++ codebase.</p>
<p>For <a target="_blank" rel="noopener" href="https://github.com/evilsocket/arc">some project of mine</a> at some point I just fully replaced the <code>sqlite</code> database I was using with JSON files, that allowed me to get rid of the native dependency and have a 100% Go app, which made crosscompilation <a target="_blank" rel="noopener" href="https://github.com/evilsocket/arc/releases">super easy again</a> ( while <a target="_blank" rel="noopener" href="https://github.com/bettercap/bettercap/blob/master/build.sh">this is the hell</a> you’re going to have to manage if you just can’t avoid having native dependencies … sorry about that :/ ).</p>
<p>If your <code>super-smart-self</code> is now screaming <strong>USE STATIC BUILDS!!!!</strong> all over (statically compile libraries in order to at least have them -inside- the binary), just don’t. If you compile everything statically with a given version of <code>glibc</code> the binary will not work on systems with a different <code>glibc</code>.</p>
<p>If your <code>even-smarter-self</code> is now screaming <strong>USE DOCKER FOR BUILDS!!!!!</strong>, find a way to do it correctly for -every- platform and -every- arch and then send me an email :)</p>
<p>If your <code>but-i-kinda-know-go-for-real-self</code> is about to suggest some exotic <code>glibc</code> alternative, see requirements for his brother, Mr <code>even-smarter-self</code> :D</p>
<h3 id="ASLR-Nope-troll-face"><a href="#ASLR-Nope-troll-face" class="headerlink" title="ASLR? Nope! -troll face-"></a>ASLR? Nope! -troll face-</h3><p>So ok, this is kind of controversial, <a target="_blank" rel="noopener" href="https://rain-1.github.io/golang-aslr.html">Go binaries have no ASLR</a>, <strong>BUT</strong>, given how Go manages memory (and mostly, given <a target="_blank" rel="noopener" href="https://golang.org/doc/faq#no_pointer_arithmetic">it doesn’t have pointer arithmetic</a>) that <strong>should not</strong> be a security issue, as long as you do not use bindings to native libraries with vulnerabilities, in which case the lack of Go ASLR would <a target="_blank" rel="noopener" href="http://blog.securitymouse.com/2014/07/bla-bla-lz4-bla-bla-golang-or-whatever.html">make exploitation way easier</a>.</p>
<p>Now, I kind of get Go developers point and I kind of don’t: why adding complexity to the runtime just to protect the runtime from something it is not vulnerable to in the first place? … but considering how often you end up using native libraries (see the previous section of this post :P) just ignoring the problem is not a wise approach regardless IMHO.</p>
<h3 id="Conclusions"><a href="#Conclusions" class="headerlink" title="Conclusions"></a>Conclusions</h3><p>There are many other small things I don’t like about Go, but that is also true for every other language I know, so I just focused on the main things and tried to skip stuff like <code>i don&#39;t like this syntax X</code> which is completely subjective (and I do like Go syntax btw). I saw many people, blindly embracing a new language just because it’s trending on GitHub … on one hand, if so many developers decided to use it, there are indeed good reasons (or they’re just <code>compile-anything-to-javascript</code> hipsters), but the perfect language which is the best option for every possible application does not exist (yet, I still have faith in nipples and fault injection U.U), always better to double check the pros and cons.</p>
<center>
peace<br/>
<img src="https://abs.twimg.com/emoji/v2/72x72/1f984.png"/>
</center>

  </div>
  <a target="_blank" rel="noopener" href="https://www.patreon.com/bePatron?u=6065463" data-patreon-widget-type="become-patron-button">Become a Patron!</a><script async src="https://c6.patreon.com/becomePatronButton.bundle.js"></script>
  <br/>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">~/</a></li>
         
          <li><a href="/atom.xml">rss</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Plz-Gimme-a-Ternary-Operator"><span class="toc-number">1.</span> <span class="toc-text">Plz Gimme a Ternary Operator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Auto-generated-stuff-Documentation"><span class="toc-number">2.</span> <span class="toc-text">Auto generated stuff !&#x3D; Documentation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-repos-as-a-Package-System-is-nuts"><span class="toc-number">3.</span> <span class="toc-text">Git repos as a Package System is nuts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reflection-Mmm-not-really-%E2%80%A6"><span class="toc-number">4.</span> <span class="toc-text">Reflection? Mmm not really …</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Generics-Nah"><span class="toc-number">5.</span> <span class="toc-text">Generics? Nah</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Go-stuff-is-easy-to-build-CGO-is-hell"><span class="toc-number">6.</span> <span class="toc-text">Go stuff is easy to build, CGO is hell.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ASLR-Nope-troll-face"><span class="toc-number">7.</span> <span class="toc-text">ASLR? Nope! -troll face-</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conclusions"><span class="toc-number">8.</span> <span class="toc-text">Conclusions</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&text=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&title=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&is_video=false&description=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It&body=Check out this article: https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&title=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&title=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&title=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&title=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://www.evilsocket.net/2018/03/14/Go-is-amazing-so-here-s-what-i-don-t-like-about-it/&name=Go Is Amazing, So Here&#39;s What I Don&#39;t Like About It&description=&lt;p&gt;After my last post and generally the kind of indirect advertising I’m doing to the Go programming language for a few months now, I heard about and talked with a lot of people who started being interested in the language, so for once I decided to write what I don’t like about it instead, to provide a more balanced perspective of what’s my experience so far and maybe let some of those people realize that Go is not the right choice for their projects after all.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE 1&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;It’s important to say that some, if not most of the things I’m about to write are purely subjective and related to my programming habits, they do not necessarily represent so called “best practices” and should not be taken like so. Moreover, I’m still a Go noob, some of the things I’m going to say might just be inaccurate / wrong, in which case feel free to correct me and teach me something new, &lt;strong&gt;please&lt;/strong&gt; :D&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE 2&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Before we start: I love this language and I already explained why I still consider it a better choice for several applications, but I’m not interested in an opinion war about Go vs Rust, or Go vs whatever … use what you think it’s best for what you have to do: if that’s Rust go for it, if you think it’s binary code you send to the processor by using your nipples to inject faults into some data bus, go for it, both cases, code and let code, life is too short for being a language hipster.&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2023 Simone Margaritelli
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">~/</a></li>
         
          <li><a href="/atom.xml">rss</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


<!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-22026549-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'evilsocket';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4da572964da15ce9" async="async"></script>

