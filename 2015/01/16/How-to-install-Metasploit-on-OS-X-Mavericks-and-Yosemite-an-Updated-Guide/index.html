<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>How to Install Metasploit on OS X Mavericks and Yosemite, an Updated Guide | evilsocket</title>
<meta name="description" content="Today I tried to install the Metasploit framework both on my Mavericks MacBook Pro and my Yosemite MacBook Air, unfortunately all the guides I’ve found seem to ">


  <link rel="alternate" href="/atom.xml" title="evilsocket" type="application/atom+xml">


<link rel="icon" href="/images/favicon.ico">

<!-- Open Graph -->
<meta property="og:type" content="article">
<meta property="og:title" content="How to Install Metasploit on OS X Mavericks and Yosemite, an Updated Guide">
<meta property="og:description" content="Today I tried to install the Metasploit framework both on my Mavericks MacBook Pro and my Yosemite MacBook Air, unfortunately all the guides I’ve found seem to ">
<meta property="og:url" content="/2015/01/16/How-to-install-Metasploit-on-OS-X-Mavericks-and-Yosemite-an-Updated-Guide/">
<meta property="og:site_name" content="evilsocket">

  
  
    <meta property="og:image" content="/images/default-cover.svg">
  


<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="How to Install Metasploit on OS X Mavericks and Yosemite, an Updated Guide">
<meta name="twitter:description" content="Today I tried to install the Metasploit framework both on my Mavericks MacBook Pro and my Yosemite MacBook Air, unfortunately all the guides I’ve found seem to ">

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- Styles -->
<link rel="stylesheet" href="/css/style.css">


<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-22026549-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-22026549-1');
</script>


<meta name="generator" content="Hexo 5.4.2"></head>
<body class="post-page">
  <header class="site-header">
  <div class="header-inner">
    <div class="site-branding">
      <a href="/" class="site-logo">
        
          <img src="/images/glider.png" alt="evilsocket" width="50" height="50">
        
        <span class="site-title">evilsocket</span>
      </a>
    </div>
    
    <nav class="site-nav">
      
        <a href="/" class="nav-link">
          HOME
        </a>
      
        <a href="/atom.xml" class="nav-link">
          RSS
        </a>
      
    </nav>
  </div>
</header>

  
  <main class="main-content">
    <article class="post-full">
  <header class="post-header">
    <h1 class="post-title">How to Install Metasploit on OS X Mavericks and Yosemite, an Updated Guide</h1>
    <div class="post-meta">
      BY <span class="post-author">Simone Margaritelli</span>
      — <time datetime="2015-01-16T17:31:00.000Z">16 Jan 2015</time>
      
        — <a href="/tags/howto/" class="post-category">howto</a>, <a href="/tags/guide/" class="post-category">guide</a>, <a href="/tags/metasploit/" class="post-category">metasploit</a>, <a href="/tags/osx/" class="post-category">osx</a>, <a href="/tags/mavericks/" class="post-category">mavericks</a>, <a href="/tags/yosemite/" class="post-category">yosemite</a>, <a href="/tags/installation/" class="post-category">installation</a>
      
    </div>
  </header>

  
  
    <div class="post-cover">
      <img src="/images/default-cover.svg" alt="How to Install Metasploit on OS X Mavericks and Yosemite, an Updated Guide">
    </div>
  

  <div class="post-content">
    <p>Today I tried to install the <strong>Metasploit</strong> framework both on my Mavericks MacBook Pro and my Yosemite MacBook Air, unfortunately all the guides I’ve found seem to be quite outdated and various hacks are needed to make the actual process really work.<br>So I decided to write an updated guide on my blog, just in case someone else will need it ^_^</p>
<span id="more"></span>

<h2 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h2><p>First thing first, you will need to install some requirements, if you are a developer/hacker you will probably have them already, but you never know.</p>
<h5 id="XCode-Command-Line-Tools"><a href="#XCode-Command-Line-Tools" class="headerlink" title="XCode Command Line Tools"></a>XCode Command Line Tools</h5><p>Issue the following command on your terminal:</p>
<pre><code>xcode-select --install</code></pre>
<p>And choose the <strong>Install</strong> option to install XCode command line tools needed for compilation, etc.</p>
<h5 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h5><p>Make sure you have the latest <strong>Java SE JDK</strong> from Oracle, you can verify it issuing the command:</p>
<pre><code>java -version</code></pre>
<p>Otherwise download it from <a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">here</a> and install it.</p>
<h5 id="Homebrew"><a href="#Homebrew" class="headerlink" title="Homebrew"></a>Homebrew</h5><p>Homebrew is a package manager for OS X, well not really a package manager since it just manages “formulas”, which are basically build scripts for open source projects ( very much like Arch / Slackware Linux build scripts ), you will need it to install other libraries and binaries.</p>
<pre><code>ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</code></pre>
<p>Then update your <strong>PATH</strong> environment variable with the homebrew binary folder:</p>
<pre><code>echo PATH=/usr/local/bin:/usr/local/sbin:$PATH &gt;&gt; ~/.bash_profile
source ~/.bash_profile
brew tap homebrew/versions</code></pre>
<h5 id="Nmap"><a href="#Nmap" class="headerlink" title="Nmap"></a>Nmap</h5><p>Once you have homebrew installed, you can start using it ( <strong>NOTE:</strong> Don’t use it with <strong>sudo</strong>, it’s not required ):</p>
<pre><code>brew install nmap</code></pre>
<h5 id="LibXML2"><a href="#LibXML2" class="headerlink" title="LibXML2"></a>LibXML2</h5><p>This is needed by the nokogiri gem:</p>
<pre><code>brew install libxml2</code></pre>
<h5 id="PostgreSQL"><a href="#PostgreSQL" class="headerlink" title="PostgreSQL"></a>PostgreSQL</h5><pre><code>brew install postgresql --without-ossp-uuid</code></pre>
<h5 id="PostgreSQL-Configuration"><a href="#PostgreSQL-Configuration" class="headerlink" title="PostgreSQL Configuration"></a>PostgreSQL Configuration</h5><p>Initialize the database ( you might already have this file, it’s not a problem ):</p>
<pre><code>initdb /usr/local/var/postgres</code></pre>
<p>Make sure it’s started after user login:</p>
<pre><code>mkdir -p ~/Library/LaunchAgents
cp /usr/local/Cellar/postgresql/9.4.0/homebrew.mxcl.postgresql.plist ~/Library/LaunchAgents/
launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist</code></pre>
<p>( replace 9.4.0 with the version you have installed )</p>
<p>Create the db for the metasploit framework:</p>
<pre><code>createuser msf -P -h localhost
createdb -O msf msf -h localhost</code></pre>
<p>( Take note of the password you used, you will need it later )</p>
<h5 id="Clone-the-Metasploit-Repo"><a href="#Clone-the-Metasploit-Repo" class="headerlink" title="Clone the Metasploit Repo"></a>Clone the Metasploit Repo</h5><p>Time for metasploit itself:</p>
<pre><code>cd /usr/local/share/
git clone https://github.com/rapid7/metasploit-framework.git
cd metasploit-framework
for MSF in $(ls msf*); do ln -s /usr/local/share/metasploit-framework/$MSF /usr/local/bin/$MSF;done
sudo chmod go+w /etc/profile
sudo echo export MSF_DATABASE_CONFIG=/usr/local/share/metasploit-framework/config/database.yml &gt;&gt; /etc/profile</code></pre>
<h5 id="HACK-Nokogiri-Gem"><a href="#HACK-Nokogiri-Gem" class="headerlink" title="HACK: Nokogiri Gem"></a>HACK: Nokogiri Gem</h5><p>This one is hackish, but that’s the way I’ve found to make it work:</p>
<pre><code>bundle config build.nokogiri &quot;--use-system-libraries --with-xml2-include=/usr/local/opt/libxml2/include/libxml2&quot;</code></pre>
<h5 id="HACK-PG-Gem"><a href="#HACK-PG-Gem" class="headerlink" title="HACK: PG Gem"></a>HACK: PG Gem</h5><p>Another hackish one:</p>
<pre><code>sudo env ARCHFLAGS=&quot;-arch x86_64&quot; gem install pg</code></pre>
<h5 id="Other-Gems"><a href="#Other-Gems" class="headerlink" title="Other Gems"></a>Other Gems</h5><p>Finally, within the metasploit folder, use bundle to install the remaining gems:</p>
<pre><code>bundle install</code></pre>
<h5 id="HACK-Fix-the-‘robots’-Gem-Permissions"><a href="#HACK-Fix-the-‘robots’-Gem-Permissions" class="headerlink" title="HACK: Fix the ‘robots’ Gem Permissions"></a>HACK: Fix the ‘robots’ Gem Permissions</h5><p>If you will run msf as a normal user, you will have trouble with the robots gem, unless you fix its permissions:</p>
<pre><code>sudo chmod o+r /Library/Ruby/Gems/2.0.0/gems/robots-0.10.1/lib/robots.rb</code></pre>
<h5 id="Create-the-Database-Configuration"><a href="#Create-the-Database-Configuration" class="headerlink" title="Create the Database Configuration"></a>Create the Database Configuration</h5><pre><code>vim /usr/local/share/metasploit-framework/config/database.yml</code></pre>
<p>Paste the following text:</p>
<pre><code>production:
 adapter: postgresql
 database: msf
 username: msf
 password: PUT_YOUR_POSTGRESQL_PASSWORD_HERE
 host: 127.0.0.1
 port: 5432
 pool: 75
 timeout: 5</code></pre>
<p>( keep the spacing since <strong>yml</strong> files are “space sensitive” )</p>
<p>And update your environment:</p>
<pre><code>source /etc/profile
source ~/.bash_profile</code></pre>
<h2 id="Done"><a href="#Done" class="headerlink" title="Done"></a>Done</h2><p>Well, you’re ready to go now, enjoy metasploit on OSX :)</p>
<pre><code>msfconsole</code></pre>

  </div>

  
    <div class="post-tags">
      
        <a href="/tags/howto/" class="tag">#howto</a>
      
        <a href="/tags/guide/" class="tag">#guide</a>
      
        <a href="/tags/metasploit/" class="tag">#metasploit</a>
      
        <a href="/tags/osx/" class="tag">#osx</a>
      
        <a href="/tags/mavericks/" class="tag">#mavericks</a>
      
        <a href="/tags/yosemite/" class="tag">#yosemite</a>
      
        <a href="/tags/installation/" class="tag">#installation</a>
      
    </div>
  

  <nav class="post-navigation">
    
      <a href="/2015/01/29/Nike-FuelBand-SE-BLE-Protocol-Reversed/" class="nav-prev">
        <span class="nav-label">PREVIOUS</span>
        <span class="nav-title">Nike+ FuelBand SE BLE Protocol Reversed</span>
      </a>
    
    
      <a href="/2014/11/03/dSploit-merges-with-ZImperium-zANTI2/" class="nav-next">
        <span class="nav-label">NEXT</span>
        <span class="nav-title">dSploit Merges With ZImperium zANTI2</span>
      </a>
    
  </nav>
</article>


  


<section class="related-posts">
  <h3 class="related-title">YOU MIGHT ALSO LIKE...</h3>
  <div class="cards-grid cards-grid-related">
    
      

<article class="card card-light">
  <a href="/2025/03/13/How-To-Write-An-Agent/" class="card-link">
    
      <div class="card-image" style="background-image: url('/images/2025/agent/loop.png')">
        
      </div>
    
    
    
      <div class="card-content">
        
          <span class="card-category">agent</span>
        
        <h2 class="card-title">How to Write an Agent</h2>
        
        <div class="card-footer">
          <span class="card-read-more">READ MORE</span>
        </div>
      </div>
    
  </a>
</article>

    
      

<article class="card card-overlay">
  <a href="/2016/09/15/WiFi-Pineapple-NANO-OS-X-and-BetterCap-setup/" class="card-link">
    
      <div class="card-image" style="background-image: url('/images/2016/09/nano.jpg')">
        
          <div class="card-overlay-content">
            
              <span class="card-category">bettercap</span>
            
            <h2 class="card-title">WiFi Pentesting With a Pineapple NANO, OS X and BetterCap</h2>
            <span class="card-read-more">READ MORE</span>
          </div>
        
      </div>
    
    
    
  </a>
</article>

    
      

<article class="card card-overlay">
  <a href="/2024/09/26/Attacking-UNIX-systems-via-CUPS-Part-I/" class="card-link">
    
      <div class="card-image" style="background-image: url('/images/2024/cups1/smart.jpg')">
        
          <div class="card-overlay-content">
            
              <span class="card-category">hacking</span>
            
            <h2 class="card-title">Attacking UNIX Systems via CUPS, Part I</h2>
            <span class="card-read-more">READ MORE</span>
          </div>
        
      </div>
    
    
    
  </a>
</article>

    
      

<article class="card card-light">
  <a href="/2024/09/13/Introducing-bettercap-2-4-0-CAN-bus-hacking-WiFi-bruteforcing-and-builtin-web-UI/" class="card-link">
    
      <div class="card-image" style="background-image: url('/images/2024/ecus.png')">
        
      </div>
    
    
    
      <div class="card-content">
        
          <span class="card-category">bettercap</span>
        
        <h2 class="card-title">Introducing Bettercap 2.4.0: CAN-Bus Hacking, WiFi Bruteforcing and Builtin Web UI</h2>
        
        <div class="card-footer">
          <span class="card-read-more">READ MORE</span>
        </div>
      </div>
    
  </a>
</article>

    
  </div>
</section>




  </main>
  
  <footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-social">
      
        
          
            <a href="https://github.com/evilsocket" class="social-link" target="_blank" rel="noopener" aria-label="GitHub">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
            </a>
          
        
          
            <a href="https://twitter.com/evilsocket" class="social-link" target="_blank" rel="noopener" aria-label="Twitter">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
            </a>
          
        
          
            <a href="http://it.linkedin.com/in/simonemargaritelli/" class="social-link" target="_blank" rel="noopener" aria-label="LinkedIn">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
            </a>
          
        
          
        
          
            <a href="mailto:evilsocket@gmail.com" class="social-link" aria-label="Email">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
            </a>
          
        
      
    </div>
    <p class="footer-copyright">
      &copy; 2025 evilsocket. 
      Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a>.
    </p>
  </div>
</footer>

  <!-- Minimal JS - no external dependencies needed -->
<script>
  // Lazy load images
  document.addEventListener('DOMContentLoaded', function() {
    var images = document.querySelectorAll('.card-image[data-bg]');
    images.forEach(function(img) {
      img.style.backgroundImage = 'url(' + img.dataset.bg + ')';
    });
  });
</script>

</body>
</html>
